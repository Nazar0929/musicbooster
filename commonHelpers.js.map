{"version":3,"file":"commonHelpers.js","sources":["../src/js/booster.js"],"sourcesContent":["const API_KEY = \"Q8bHL81HES4CjxatVZAVSQWYyAffYhbQ\";\nconst list = document.querySelector(\".events-list\");\nconst pagination = document.getElementById(\"pagination\");\n\nlet currentPage = 0;\nlet totalPages = 0;\n\nasync function loadEvents(page = 0) {\nconst url = `https://app.ticketmaster.com/discovery/v2/events.json?apikey=${API_KEY}&countryCode=US&size=20&page=${page}`;\n\n  const response = await fetch(url);\n  const data = await response.json();\n\n  const events = data._embedded?.events || [];\n  totalPages = Math.min(data.page?.totalPages || 0, 29);\n  currentPage = page;\n\n  renderEvents(events);\n  renderPagination();\n}\n\nfunction renderEvents(events) {\n  const markup = events.map(ev => {\n    const img = ev.images?.[0]?.url || \"\";\n    const name = ev.name || \"\";\n    const date = ev.dates?.start?.localDate || \"\";\n    const place = ev._embedded?.venues?.[0]?.name || \"\";\n\n    return `\n      <li class=\"event-card\">\n        <img class=\"event-img\" src=\"${img}\" alt=\"${name}\">\n        <h3 class=\"event-title\" >${name}</h3>\n        <p class=\"event-date\">${date}</p>\n        <p class=\"event-place\">${place}</p>\n      </li>\n    `;\n  }).join(\"\");\n\n  list.innerHTML = markup;\n}\n\nfunction renderPagination() {\n  pagination.innerHTML = \"\";\n\n  const maxVisible = 5;\n\n  let start = Math.max(0, currentPage - 2);\n  let end = Math.min(totalPages, start + maxVisible);\n\n  if (end - start < maxVisible) {\n    start = Math.max(0, end - maxVisible);\n  }\n\n  for (let i = start; i < end; i++) {\n    const btn = document.createElement(\"div\");\n    btn.classList.add(\"page-btn\");\n    if (i === currentPage) btn.classList.add(\"active\");\n    btn.textContent = i + 1;\n\n    btn.addEventListener(\"click\", () => {\n      loadEvents(i);\n    });\n\n    pagination.appendChild(btn);\n  }\n\n  if (end < totalPages) {\n    const dots = document.createElement(\"div\");\n    dots.textContent = \"...\";\n    dots.style.padding = \"6px\";\n    dots.style.color = \"#fff\"; \n    pagination.appendChild(dots);\n\n    const last = document.createElement(\"div\");\n    last.classList.add(\"page-btn\");\n    last.textContent = totalPages;\n    last.addEventListener(\"click\", () => {\n      loadEvents(totalPages - 1);\n    });\n\n    pagination.appendChild(last);\n  }\n}\n\nloadEvents();"],"names":["API_KEY","list","pagination","currentPage","totalPages","loadEvents","page","url","data","events","_a","_b","renderEvents","renderPagination","markup","ev","img","name","date","_d","_c","place","_g","_f","_e","maxVisible","start","end","i","btn","dots","last"],"mappings":"ssBAAA,MAAMA,EAAU,mCACVC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAa,SAAS,eAAe,YAAY,EAEvD,IAAIC,EAAc,EACdC,EAAa,EAEjB,eAAeC,EAAWC,EAAO,EAAG,SACpC,MAAMC,EAAM,gEAAgEP,CAAO,gCAAgCM,CAAI,GAG/GE,EAAO,MADI,MAAM,MAAMD,CAAG,GACJ,OAEtBE,IAASC,EAAAF,EAAK,YAAL,YAAAE,EAAgB,SAAU,CAAA,EACzCN,EAAa,KAAK,MAAIO,EAAAH,EAAK,OAAL,YAAAG,EAAW,aAAc,EAAG,EAAE,EACpDR,EAAcG,EAEdM,EAAaH,CAAM,EACnBI,GACF,CAEA,SAASD,EAAaH,EAAQ,CAC5B,MAAMK,EAASL,EAAO,IAAIM,GAAM,mBAC9B,MAAMC,IAAML,GAAAD,EAAAK,EAAG,SAAH,YAAAL,EAAY,KAAZ,YAAAC,EAAgB,MAAO,GAC7BM,EAAOF,EAAG,MAAQ,GAClBG,IAAOC,GAAAC,EAAAL,EAAG,QAAH,YAAAK,EAAU,QAAV,YAAAD,EAAiB,YAAa,GACrCE,IAAQC,GAAAC,GAAAC,EAAAT,EAAG,YAAH,YAAAS,EAAc,SAAd,YAAAD,EAAuB,KAAvB,YAAAD,EAA2B,OAAQ,GAEjD,MAAO;AAAA;AAAA,sCAE2BN,CAAG,UAAUC,CAAI;AAAA,mCACpBA,CAAI;AAAA,gCACPC,CAAI;AAAA,iCACHG,CAAK;AAAA;AAAA,KAGtC,CAAG,EAAE,KAAK,EAAE,EAEVpB,EAAK,UAAYa,CACnB,CAEA,SAASD,GAAmB,CAC1BX,EAAW,UAAY,GAEvB,MAAMuB,EAAa,EAEnB,IAAIC,EAAQ,KAAK,IAAI,EAAGvB,EAAc,CAAC,EACnCwB,EAAM,KAAK,IAAIvB,EAAYsB,EAAQD,CAAU,EAE7CE,EAAMD,EAAQD,IAChBC,EAAQ,KAAK,IAAI,EAAGC,EAAMF,CAAU,GAGtC,QAASG,EAAIF,EAAOE,EAAID,EAAKC,IAAK,CAChC,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAU,IAAI,UAAU,EACxBD,IAAMzB,GAAa0B,EAAI,UAAU,IAAI,QAAQ,EACjDA,EAAI,YAAcD,EAAI,EAEtBC,EAAI,iBAAiB,QAAS,IAAM,CAClCxB,EAAWuB,CAAC,CAClB,CAAK,EAED1B,EAAW,YAAY2B,CAAG,CAC3B,CAED,GAAIF,EAAMvB,EAAY,CACpB,MAAM0B,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,YAAc,MACnBA,EAAK,MAAM,QAAU,MACrBA,EAAK,MAAM,MAAQ,OACnB5B,EAAW,YAAY4B,CAAI,EAE3B,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,UAAU,EAC7BA,EAAK,YAAc3B,EACnB2B,EAAK,iBAAiB,QAAS,IAAM,CACnC1B,EAAWD,EAAa,CAAC,CAC/B,CAAK,EAEDF,EAAW,YAAY6B,CAAI,CAC5B,CACH,CAEA1B,EAAY"}