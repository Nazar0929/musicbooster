{"version":3,"file":"commonHelpers.js","sources":["../src/js/booster.js","../src/js/modal.js"],"sourcesContent":["const API_KEY = \"Q8bHL81HES4CjxatVZAVSQWYyAffYhbQ\";\nconst list = document.querySelector(\".events-list\");\nconst pagination = document.getElementById(\"pagination\");\n\nlet currentPage = 0;\nlet totalPages = 0;\n\nasync function loadEvents(page = 0) {\nconst url = `https://app.ticketmaster.com/discovery/v2/events.json?apikey=${API_KEY}&countryCode=US&size=20&page=${page}`;\n\n  const response = await fetch(url);\n  const data = await response.json();\n\n  const events = data._embedded?.events || [];\n  totalPages = Math.min(data.page?.totalPages || 0, 29);\n  currentPage = page;\n\n  renderEvents(events);\n  renderPagination();\n}\n\nfunction renderEvents(events) {\n  const markup = events.map(ev => {\n    const img = ev.images?.[0]?.url || \"\";\n    const name = ev.name || \"\";\n    const date = ev.dates?.start?.localDate || \"\";\n    const place = ev._embedded?.venues?.[0]?.name || \"\";\n\n    return `\n      <li class=\"event-card\">\n        <img class=\"event-img\" src=\"${img}\" alt=\"${name}\">\n        <h3 class=\"event-title\" >${name}</h3>\n        <p class=\"event-date\">${date}</p>\n        <p class=\"event-place\">${place}</p>\n      </li>\n    `;\n  }).join(\"\");\n\n  list.innerHTML = markup;\n}\n\nfunction renderPagination() {\n  pagination.innerHTML = \"\";\n\n  const maxVisible = 5;\n\n  let start = Math.max(0, currentPage - 2);\n  let end = Math.min(totalPages, start + maxVisible);\n\n  if (end - start < maxVisible) {\n    start = Math.max(0, end - maxVisible);\n  }\n\n  for (let i = start; i < end; i++) {\n    const btn = document.createElement(\"div\");\n    btn.classList.add(\"page-btn\");\n    if (i === currentPage) btn.classList.add(\"active\");\n    btn.textContent = i + 1;\n\n    btn.addEventListener(\"click\", () => {\n      loadEvents(i);\n    });\n\n    pagination.appendChild(btn);\n  }\n\n  if (end < totalPages) {\n    const dots = document.createElement(\"div\");\n    dots.textContent = \"...\";\n    dots.style.padding = \"6px\";\n    dots.style.color = \"#fff\"; \n    pagination.appendChild(dots);\n\n    const last = document.createElement(\"div\");\n    last.classList.add(\"page-btn\");\n    last.textContent = totalPages;\n    last.addEventListener(\"click\", () => {\n      loadEvents(totalPages - 1);\n    });\n\n    pagination.appendChild(last);\n  }\n}\n\nloadEvents();","// import { getEvent } from './eventsAPI';\n// import svg from '../images/sprite.svg';\n\nconst body = document.body;\n\n/* ================= TEAM MODAL ================= */\n\nconst openModalTeam = document.querySelector('.js-open-team-modal');\nconst modalTeam = document.querySelector('[data-modal-team]');\nconst closeTeam = document.querySelector('[data-close-team]');\nconst developers = document.querySelector('.developers');\n\nif (openModalTeam) {\n  openModalTeam.addEventListener('click', toggleTeamModal);\n}\n\nif (closeTeam) {\n  closeTeam.addEventListener('click', toggleTeamModal);\n}\n\nif (modalTeam) {\n  modalTeam.addEventListener('click', e => {\n    if (!e.target.closest('.developers')) {\n      toggleTeamModal();\n    }\n  });\n}\n\nfunction toggleTeamModal() {\n  modalTeam.classList.toggle('backdrop-hidden');\n  body.classList.toggle('no-scroll');\n}\n\n/* ================= EVENT MODAL ================= */\n\nconst modal = document.querySelector('[data-modal]');\nconst closeModal = document.querySelector('[data-close]');\nconst galleryCard = document.querySelector('.js-events-gallery');\nconst modalWrap = document.querySelector('.modal__wrap');\n\nif (galleryCard) {\n  galleryCard.addEventListener('click', openEventCardInModal);\n}\n\nif (closeModal) {\n  closeModal.addEventListener('click', closeEventModal);\n}\n\nif (modal) {\n  modal.addEventListener('click', e => {\n    if (!e.target.closest('.modal')) {\n      closeEventModal();\n    }\n  });\n}\n\nasync function openEventCardInModal(e) {\n  e.preventDefault();\n\n  const card = e.target.closest('[data-id]');\n  if (!card) return;\n\n  const id = card.dataset.id;\n\n  try {\n    const response = await getEvent(id);\n    const data = response.data;\n\n    modalWrap.innerHTML = createMarkupEventCard(data);\n\n    modal.classList.remove('backdrop-hidden');\n    body.classList.add('no-scroll');\n\n  } catch (error) {\n    console.error('Error loading event:', error);\n  }\n}\n\nfunction closeEventModal() {\n  modal.classList.add('backdrop-hidden');\n  body.classList.remove('no-scroll');\n}\n\n/* ================= ESC CLOSE ================= */\n\ndocument.addEventListener('keydown', e => {\n  if (e.code === 'Escape') {\n    closeEventModal();\n    if (modalTeam) {\n      modalTeam.classList.add('backdrop-hidden');\n    }\n    body.classList.remove('no-scroll');\n  }\n});\n\n/* ================= MARKUP ================= */\n\nfunction createMarkupEventCard(cardObject) {\n  const {\n    name,\n    images = [],\n    url = '#',\n    info,\n    priceRanges,\n    dates,\n    _embedded,\n  } = cardObject;\n\n  const localDate = dates?.start?.localDate || '';\n  const localTime = dates?.start?.localTime || '';\n  const timezone = dates?.timezone || '';\n\n  const venue = _embedded?.venues?.[0] || {};\n  const place = venue.name || '';\n  const city = venue.city?.name || '';\n  const country = venue.country?.name || '';\n\n  const img =\n    images.find(img => img.height >= 350) || images[0] || {};\n\n  let standardText = 'See ticket info';\n  let vipText = '';\n\n  if (priceRanges && priceRanges.length > 0) {\n    const { type, currency, min, max } = priceRanges[0];\n\n    const priceText = `${type}: ${min}-${max} ${currency}`;\n\n    if (type?.toLowerCase() === 'standard') {\n      standardText = priceText;\n    } else if (type?.toLowerCase() === 'vip') {\n      vipText = priceText;\n    }\n  }\n\n  return `\n    <img class=\"modal__preview\" src=\"${img.url || ''}\" alt=\"preview\" />\n\n    <div class=\"content\">\n      <img class=\"content__image\" src=\"${img.url || ''}\" alt=\"poster\"/>\n\n      <ul class=\"content__list\">\n\n        <li>\n          <h2 class=\"modal__title\">INFO</h2>\n          <p class=\"modal__text\">${info || 'No information'}</p>\n        </li>\n\n        <li>\n          <h2 class=\"modal__title\">WHEN</h2>\n          <p class=\"modal__text\">${localDate}</p>\n          <p class=\"modal__text\">${localTime} ${timezone}</p>\n        </li>\n\n        <li>\n          <h2 class=\"modal__title\">WHERE</h2>\n          <p class=\"modal__text\">${city}, ${country}</p>\n          <p class=\"modal__text\">${place}</p>\n        </li>\n\n        <li>\n          <h2 class=\"modal__title\">WHO</h2>\n          <p class=\"modal__text\">${name}</p>\n        </li>\n\n        <li>\n          <h2 class=\"modal__title\">PRICES</h2>\n\n          <div class=\"price__wrap\">\n            <svg class=\"price__icon\" width=\"24\" height=\"16\">\n              <use href=\"${svg}#icon-ticket\"></use>\n            </svg>\n\n            <p class=\"modal__text\">${standardText}</p>\n          </div>\n\n          ${vipText ? `<p class=\"modal__text\">${vipText}</p>` : ''}\n\n          <a class=\"modal__btn\" target=\"_blank\" href=\"${url}\">\n            BUY TICKETS\n          </a>\n        </li>\n\n      </ul>\n    </div>\n  `;\n}—Å"],"names":["API_KEY","list","pagination","currentPage","totalPages","loadEvents","page","url","data","events","_a","_b","renderEvents","renderPagination","markup","ev","img","name","date","_d","_c","place","_g","_f","_e","maxVisible","start","end","i","btn","dots","last","body","openModalTeam","modalTeam","closeTeam","toggleTeamModal","e","modal","closeModal","galleryCard","modalWrap","openEventCardInModal","closeEventModal","card","id","createMarkupEventCard","error","cardObject","images","info","priceRanges","dates","_embedded","localDate","localTime","timezone","venue","city","country","standardText","vipText","type","currency","min","max","priceText"],"mappings":"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"}