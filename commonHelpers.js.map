{"version":3,"file":"commonHelpers.js","sources":["../src/js/booster.js","../src/js/modal.js"],"sourcesContent":["\nconst API_KEY = \"Q8bHL81HES4CjxatVZAVSQWYyAffYhbQ\";\n\nconst list = document.querySelector(\".events-list\");\nconst pagination = document.getElementById(\"pagination\");\n\nconst modal = document.querySelector(\"[data-modal]\");\nconst modalWrap = document.querySelector(\".modal__wrap\");\nconst closeBtn = document.querySelector(\"[data-close]\");\nconst body = document.body;\n\nlet currentPage = 0;\nlet totalPages = 0;\n\n\n\nasync function loadEvents(page = 0) {\n\n  const url =\n    `https://app.ticketmaster.com/discovery/v2/events.json?apikey=${API_KEY}&countryCode=US&size=20&page=${page}`;\n\n  const response = await fetch(url);\n  const data = await response.json();\n\n  const events = data._embedded?.events || [];\n\n  totalPages = Math.min(data.page?.totalPages || 0, 29);\n  currentPage = page;\n\n  renderEvents(events);\n  renderPagination();\n}\n\n\n\nfunction renderEvents(events) {\n\n  const markup = events.map(ev => {\n\n    const img = ev.images?.[0]?.url || \"\";\n    const name = ev.name || \"\";\n    const date = ev.dates?.start?.localDate || \"\";\n    const place = ev._embedded?.venues?.[0]?.name || \"\";\n\n    return `\n      <li class=\"event-card\" data-id=\"${ev.id}\">\n        <img class=\"event-img\" src=\"${img}\" alt=\"${name}\">\n        <h3 class=\"event-title\">${name}</h3>\n        <p class=\"event-date\">${date}</p>\n        <p class=\"event-place\">${place}</p>\n      </li>\n    `;\n  }).join(\"\");\n\n  list.innerHTML = markup;\n}\n\n\n\nfunction renderPagination() {\n\n  pagination.innerHTML = \"\";\n\n  const maxVisible = 5;\n\n  let start = Math.max(0, currentPage - 2);\n  let end = Math.min(totalPages, start + maxVisible);\n\n  if (end - start < maxVisible) {\n    start = Math.max(0, end - maxVisible);\n  }\n\n\n\n  for (let i = start; i < end; i++) {\n\n    const btn = document.createElement(\"button\");\n    btn.className = \"page-btn\";\n    btn.textContent = i + 1;\n\n    if (i === currentPage) {\n      btn.classList.add(\"active\");\n    }\n\n    btn.addEventListener(\"click\", () => loadEvents(i));\n\n    pagination.appendChild(btn);\n  }\n\n\n\n  if (end < totalPages) {\n\n    const dots = document.createElement(\"span\");\n    dots.textContent = \"...\";\n    dots.className = \"dots\";\n\n    pagination.appendChild(dots);\n\n    const last = document.createElement(\"button\");\n    last.className = \"page-btn\";\n    last.textContent = totalPages;\n\n    last.addEventListener(\"click\", () =>\n      loadEvents(totalPages - 1)\n    );\n\n    pagination.appendChild(last);\n  }\n}\n\n\nlist.addEventListener(\"click\", openEventModal);\n\nasync function openEventModal(e) {\n\n  const card = e.target.closest(\".event-card\");\n  if (!card) return;\n\n  const id = card.dataset.id;\n\n  const response = await fetch(\n    `https://app.ticketmaster.com/discovery/v2/events/${id}.json?apikey=${API_KEY}`\n  );\n\n  const ev = await response.json();\n\n  modalWrap.innerHTML = createModalMarkup(ev);\n\n  modal.classList.remove(\"backdrop-hidden\");\n  body.classList.add(\"no-scroll\");\n}\n\n\n\nfunction createModalMarkup(ev) {\n\n  const img = ev.images?.[0]?.url || \"\";\n  const name = ev.name || \"\";\n  const info = ev.info || \"No information\";\n  const date = ev.dates?.start?.localDate || \"\";\n  const time = ev.dates?.start?.localTime || \"\";\n  const city = ev._embedded?.venues?.[0]?.city?.name || \"\";\n  const place = ev._embedded?.venues?.[0]?.name || \"\";\n  const url = ev.url || \"#\";\n\n  return `\n    <img class=\"modal__preview\" src=\"${img}\" />\n\n    <div class=\"content\">\n\n      <img class=\"content__image\" src=\"${img}\" />\n\n      <ul>\n\n        <li><b>INFO:</b> ${info}</li>\n        <li><b>WHEN:</b> ${date} ${time}</li>\n        <li><b>WHERE:</b> ${city} — ${place}</li>\n        <li><b>WHO:</b> ${name}</li>\n\n        <li>\n          <a class=\"modal__btn\" href=\"${url}\" target=\"_blank\">\n            BUY TICKETS\n          </a>\n        </li>\n\n      </ul>\n\n    </div>\n  `;\n}\n\n\n\ncloseBtn.addEventListener(\"click\", closeModal);\n\nmodal.addEventListener(\"click\", e => {\n  if (!e.target.closest(\".modal\")) closeModal();\n});\n\ndocument.addEventListener(\"keydown\", e => {\n  if (e.code === \"Escape\") closeModal();\n});\n\nfunction closeModal() {\n  modal.classList.add(\"backdrop-hidden\");\n  body.classList.remove(\"no-scroll\");\n}\n\nloadEvents();","\nconst body = document.body;\n\nconst modal = document.querySelector('[data-modal]');\nconst closeBtn = document.querySelector('[data-close]');\nconst gallery = document.querySelector('.js-events-gallery');\nconst modalWrap = document.querySelector('.modal__wrap');\n\n\n\ngallery.addEventListener('click', openModal);\n\nfunction openModal(e) {\n  const card = e.target.closest('[data-id]');\n  if (!card) return;\n\n  const eventData = getFakeEvent(); \n\n  modalWrap.innerHTML = createMarkup(eventData);\n\n  modal.classList.remove('backdrop-hidden');\n  body.classList.add('no-scroll');\n}\n\n\n\ncloseBtn.addEventListener('click', closeModal);\n\nmodal.addEventListener('click', e => {\n  if (!e.target.closest('.modal')) {\n    closeModal();\n  }\n});\n\ndocument.addEventListener('keydown', e => {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n});\n\nfunction closeModal() {\n  modal.classList.add('backdrop-hidden');\n  body.classList.remove('no-scroll');\n}\n\n\n\nfunction createModalMarkup(ev){\n\n  const img = ev.images?.[0]?.url || \"\";\n  const name = ev.name || \"\";\n  const info = ev.info || \"No information\";\n  const date = ev.dates?.start?.localDate || \"\";\n  const time = ev.dates?.start?.localTime || \"\";\n  const city = ev._embedded?.venues?.[0]?.city?.name || \"\";\n  const place = ev._embedded?.venues?.[0]?.name || \"\";\n  const url = ev.url || \"#\";\n  \n  return `\n  <img class=\"modal__preview\" src=\"${img}\" />\n  \n  <div class=\"content\">\n  \n  <img class=\"content__image\" src=\"${img}\" />\n  \n  <ul class=\"content__list\">\n  \n  <li>\n  <h2 class=\"modal__title\">INFO</h2>\n  <p class=\"modal__text\">${info}</p>\n  </li>\n  \n  <li>\n  <h2 class=\"modal__title\">WHEN</h2>\n  <p class=\"modal__text\">${date}</p>\n  <p class=\"modal__text\">${time}</p>\n  </li>\n  \n  <li>\n  <h2 class=\"modal__title\">WHERE</h2>\n  <p class=\"modal__text\">${city}</p>\n  <p class=\"modal__text\">${place}</p>\n  </li>\n  \n  <li>\n  <h2 class=\"modal__title\">WHO</h2>\n  <p class=\"modal__text\">${name}</p>\n  </li>\n  \n  <li>\n  <h2 class=\"modal__title\">PRICES</h2>\n  \n  <div class=\"price__wrap\">\n  <p class=\"modal__text\">Standard tickets</p>\n  </div>\n  \n  <a class=\"modal__btn\" href=\"${url}\" target=\"_blank\">\n  BUY TICKETS\n  </a>\n  \n  <div class=\"price__wrap\">\n  <p class=\"modal__text\">VIP tickets</p>\n  </div>\n  \n  <a class=\"modal__btn\" href=\"${url}\" target=\"_blank\">\n  BUY TICKETS\n  </a>\n  \n  </li>\n  \n  </ul>\n  \n  </div>\n  \n  <a class=\"btn-info\" href=\"${url}\" target=\"_blank\">\n  MORE FROM THIS AUTHOR\n  </a>\n  `;\n  }\n\n\n\nfunction getFakeEvent() {\n  return {\n    name: 'Atlas Weekend',\n    info: 'Largest music festival in Ukraine.',\n    date: '2026-02-28',\n    time: '20:00',\n    city: 'Jarosław, Poland',\n    place: 'Reto Music Club',\n    price: 'Standard 40-80€',\n    img: 'https://picsum.photos/400/600'\n  };\n}\n\n\n"],"names":["API_KEY","list","pagination","modal","modalWrap","closeBtn","body","currentPage","totalPages","loadEvents","page","url","data","events","_a","_b","renderEvents","renderPagination","markup","ev","img","name","date","_d","_c","place","_g","_f","_e","maxVisible","start","end","i","btn","dots","last","openEventModal","e","card","id","createModalMarkup","info","time","city","_j","_i","_h","_m","_l","_k","closeModal","gallery","openModal","eventData","getFakeEvent"],"mappings":"ssBACA,MAAMA,EAAU,mCAEVC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAa,SAAS,eAAe,YAAY,EAEjDC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAO,SAAS,KAEtB,IAAIC,EAAc,EACdC,EAAa,EAIjB,eAAeC,EAAWC,EAAO,EAAG,SAElC,MAAMC,EACJ,gEAAgEX,CAAO,gCAAgCU,CAAI,GAGvGE,EAAO,MADI,MAAM,MAAMD,CAAG,GACJ,OAEtBE,IAASC,EAAAF,EAAK,YAAL,YAAAE,EAAgB,SAAU,CAAA,EAEzCN,EAAa,KAAK,MAAIO,EAAAH,EAAK,OAAL,YAAAG,EAAW,aAAc,EAAG,EAAE,EACpDR,EAAcG,EAEdM,EAAaH,CAAM,EACnBI,GACF,CAIA,SAASD,EAAaH,EAAQ,CAE5B,MAAMK,EAASL,EAAO,IAAIM,GAAM,mBAE9B,MAAMC,IAAML,GAAAD,EAAAK,EAAG,SAAH,YAAAL,EAAY,KAAZ,YAAAC,EAAgB,MAAO,GAC7BM,EAAOF,EAAG,MAAQ,GAClBG,IAAOC,GAAAC,EAAAL,EAAG,QAAH,YAAAK,EAAU,QAAV,YAAAD,EAAiB,YAAa,GACrCE,IAAQC,GAAAC,GAAAC,EAAAT,EAAG,YAAH,YAAAS,EAAc,SAAd,YAAAD,EAAuB,KAAvB,YAAAD,EAA2B,OAAQ,GAEjD,MAAO;AAAA,wCAC6BP,EAAG,EAAE;AAAA,sCACPC,CAAG,UAAUC,CAAI;AAAA,kCACrBA,CAAI;AAAA,gCACNC,CAAI;AAAA,iCACHG,CAAK;AAAA;AAAA,KAGtC,CAAG,EAAE,KAAK,EAAE,EAEVxB,EAAK,UAAYiB,CACnB,CAIA,SAASD,GAAmB,CAE1Bf,EAAW,UAAY,GAEvB,MAAM2B,EAAa,EAEnB,IAAIC,EAAQ,KAAK,IAAI,EAAGvB,EAAc,CAAC,EACnCwB,EAAM,KAAK,IAAIvB,EAAYsB,EAAQD,CAAU,EAE7CE,EAAMD,EAAQD,IAChBC,EAAQ,KAAK,IAAI,EAAGC,EAAMF,CAAU,GAKtC,QAASG,EAAIF,EAAOE,EAAID,EAAKC,IAAK,CAEhC,MAAMC,EAAM,SAAS,cAAc,QAAQ,EAC3CA,EAAI,UAAY,WAChBA,EAAI,YAAcD,EAAI,EAElBA,IAAMzB,GACR0B,EAAI,UAAU,IAAI,QAAQ,EAG5BA,EAAI,iBAAiB,QAAS,IAAMxB,EAAWuB,CAAC,CAAC,EAEjD9B,EAAW,YAAY+B,CAAG,CAC3B,CAID,GAAIF,EAAMvB,EAAY,CAEpB,MAAM0B,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,YAAc,MACnBA,EAAK,UAAY,OAEjBhC,EAAW,YAAYgC,CAAI,EAE3B,MAAMC,EAAO,SAAS,cAAc,QAAQ,EAC5CA,EAAK,UAAY,WACjBA,EAAK,YAAc3B,EAEnB2B,EAAK,iBAAiB,QAAS,IAC7B1B,EAAWD,EAAa,CAAC,CAC/B,EAEIN,EAAW,YAAYiC,CAAI,CAC5B,CACH,CAGAlC,EAAK,iBAAiB,QAASmC,CAAc,EAE7C,eAAeA,EAAeC,EAAG,CAE/B,MAAMC,EAAOD,EAAE,OAAO,QAAQ,aAAa,EAC3C,GAAI,CAACC,EAAM,OAEX,MAAMC,EAAKD,EAAK,QAAQ,GAMlBnB,EAAK,MAJM,MAAM,MACrB,oDAAoDoB,CAAE,gBAAgBvC,CAAO,EACjF,GAE4B,OAE1BI,EAAU,UAAYoC,EAAkBrB,CAAE,EAE1ChB,EAAM,UAAU,OAAO,iBAAiB,EACxCG,EAAK,UAAU,IAAI,WAAW,CAChC,CAIA,SAASkC,EAAkBrB,EAAI,+BAE7B,MAAMC,IAAML,GAAAD,EAAAK,EAAG,SAAH,YAAAL,EAAY,KAAZ,YAAAC,EAAgB,MAAO,GAC7BM,EAAOF,EAAG,MAAQ,GAClBsB,EAAOtB,EAAG,MAAQ,iBAClBG,IAAOC,GAAAC,EAAAL,EAAG,QAAH,YAAAK,EAAU,QAAV,YAAAD,EAAiB,YAAa,GACrCmB,IAAOf,GAAAC,EAAAT,EAAG,QAAH,YAAAS,EAAU,QAAV,YAAAD,EAAiB,YAAa,GACrCgB,IAAOC,GAAAC,GAAAC,GAAApB,EAAAP,EAAG,YAAH,YAAAO,EAAc,SAAd,YAAAoB,EAAuB,KAAvB,YAAAD,EAA2B,OAA3B,YAAAD,EAAiC,OAAQ,GAChDnB,IAAQsB,GAAAC,GAAAC,EAAA9B,EAAG,YAAH,YAAA8B,EAAc,SAAd,YAAAD,EAAuB,KAAvB,YAAAD,EAA2B,OAAQ,GAC3CpC,EAAMQ,EAAG,KAAO,IAEtB,MAAO;AAAA,uCAC8BC,CAAG;AAAA;AAAA;AAAA;AAAA,yCAIDA,CAAG;AAAA;AAAA;AAAA;AAAA,2BAIjBqB,CAAI;AAAA,2BACJnB,CAAI,IAAIoB,CAAI;AAAA,4BACXC,CAAI,MAAMlB,CAAK;AAAA,0BACjBJ,CAAI;AAAA;AAAA;AAAA,wCAGUV,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAS3C,CAIAN,EAAS,iBAAiB,QAAS6C,CAAU,EAE7C/C,EAAM,iBAAiB,QAASkC,GAAK,CAC9BA,EAAE,OAAO,QAAQ,QAAQ,GAAGa,GACnC,CAAC,EAED,SAAS,iBAAiB,UAAWb,GAAK,CACpCA,EAAE,OAAS,UAAUa,EAAU,CACrC,CAAC,EAED,SAASA,GAAa,CACpB/C,EAAM,UAAU,IAAI,iBAAiB,EACrCG,EAAK,UAAU,OAAO,WAAW,CACnC,CAEAG,EAAY,EC5LZ,MAAMH,EAAO,SAAS,KAEhBH,EAAQ,SAAS,cAAc,cAAc,EAC7CE,EAAW,SAAS,cAAc,cAAc,EAChD8C,EAAU,SAAS,cAAc,oBAAoB,EACrD/C,EAAY,SAAS,cAAc,cAAc,EAIvD+C,EAAQ,iBAAiB,QAASC,CAAS,EAE3C,SAASA,EAAUf,EAAG,CAEpB,GAAI,CADSA,EAAE,OAAO,QAAQ,WAAW,EAC9B,OAEX,MAAMgB,EAAYC,IAElBlD,EAAU,UAAY,aAAaiD,CAAS,EAE5ClD,EAAM,UAAU,OAAO,iBAAiB,EACxCG,EAAK,UAAU,IAAI,WAAW,CAChC,CAIAD,EAAS,iBAAiB,QAAS6C,CAAU,EAE7C/C,EAAM,iBAAiB,QAASkC,GAAK,CAC9BA,EAAE,OAAO,QAAQ,QAAQ,GAC5Ba,GAEJ,CAAC,EAED,SAAS,iBAAiB,UAAWb,GAAK,CACpCA,EAAE,OAAS,UACba,GAEJ,CAAC,EAED,SAASA,GAAa,CACpB/C,EAAM,UAAU,IAAI,iBAAiB,EACrCG,EAAK,UAAU,OAAO,WAAW,CACnC,CA+EA,SAASgD,GAAe,CACtB,MAAO,CACL,KAAM,gBACN,KAAM,qCACN,KAAM,aACN,KAAM,QACN,KAAM,mBACN,MAAO,kBACP,MAAO,kBACP,IAAK,+BACT,CACA"}